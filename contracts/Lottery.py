
class Lottery:
    # https://chriseth.github.io/browser-solidity/?gist=df2066d479bc08f09a26
    INIT_HEX = "60606040525b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908302179055505b610a018061003f6000396000f3606060405236156100ab576000357c010000000000000000000000000000000000000000000000000000000090048063080d840c146100ad578063204f83f9146100df578063264f28fe146101025780633b663195146101255780634c90aaeb1461013d57806363bd1d4a1461015557806369843940146101645780637ae8c854146101905780637b1aa45f146101bc5780638da5cb5b146101df578063fb14cbca14610218576100ab565b005b6100c36004808035906020019091905050610483565b604051808263ffffffff16815260200191505060405180910390f35b6100ec60048050506107bb565b6040518082815260200191505060405180910390f35b61010f600480505061067e565b6040518082815260200191505060405180910390f35b61013b60048080359060200190919050506106fd565b005b61015360048080359060200190919050506104be565b005b6101626004805050610690565b005b61017a600480803590602001909190505061078d565b6040518082815260200191505060405180910390f35b6101a66004808035906020019091905050610455565b6040518082815260200191505060405180910390f35b6101c960048050506107e6565b6040518082815260200191505060405180910390f35b6101ec60048050506107c0565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61026660048080359060200190919080359060200190919080359060200190919080359060200190919080359060200190919080359060200190820180359060200191909192905050610268565b005b60a060405190810160405280600081526020016000815260200160008152602001600081526020016020604051908101604052806000815260200150815260200150600060a0604051908101604052808981526020018881526020018781526020018681526020018585808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050508152602001509150600260005060008a81526020019081526020016000206000509050600081600001600050541480610340575080600101600050544311155b1561034a5761044a565b60008160020160009054906101000a900463ffffffff1663ffffffff16141561037757610376896104be565b5b6103968160020160009054906101000a900463ffffffff168a846107ef565b15156103a15761044a565b8673ffffffffffffffffffffffffffffffffffffffff1660008260000160005054604051809050600060405180830381858888f1935050505050600260005060008a81526020019081526020016000206000600082016000506000905560018201600050600090556002820160006101000a81549063ffffffff02191690556002820160046101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550505b505050505050505050565b60006002600050600083815260200190815260200160002060005060010160005054905061047e565b919050565b60006002600050600083815260200190815260200160002060005060020160009054906101000a900463ffffffff1690506104b9565b919050565b600060006002600050600084815260200190815260200160002060005091506000826000016000505414156104f257610679565b60008260020160009054906101000a900463ffffffff1663ffffffff1614151561051b57610679565b81600101600050544311151561053057610679565b61054082600001600050546109a9565b90506080826001016000505401431115156105b1578160020160049054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600082604051809050600060405180830381858888f1935050505050610611565b610100826001016000505401431115156105fd573373ffffffffffffffffffffffffffffffffffffffff16600082604051809050600060405180830381858888f1935050505050610610565b8060016000828282505401925050819055505b5b6106218260010160005054610969565b8260020160006101000a81548163ffffffff021916908302179055506000826001016000508190555060008260020160046101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908302179055505b505050565b6000600160005054905061068d565b90565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000600160005054604051809050600060405180830381858888f19350505050156106fa5760006001600050819055505b5b565b600060006002600050600084815260200190815260200160002060005091506000826000016000505414151561073257610788565b61073b34610997565b90508034038260000160005081905550600a43018260010160005081905550338260020160046101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908302179055505b505050565b6000600260005060008381526020019081526020016000206000506000016000505490506107b6565b919050565b600a81565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60016000505481565b600060006000836040015163ffffffff168663ffffffff16108061082b5750600184606001518560400151010363ffffffff168663ffffffff16115b156108395760009250610960565b836020015184604001518560600151604051808473ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401935050505060405180910390209150600090505b83608001515181101561093057836080015181815181101561000257906020019060200201518218604051808281526020019150506040518091039020915081505b80600101905080506108e1565b83600001518260405180838152602001828152602001925050506040518091039020915081508482149250610960565b50509392505050565b6000610100824303111561098557610980826109bb565b915081505b8140600190049050610992565b919050565b6000600b820490506109a4565b919050565b6000600a820490506109b6565b919050565b60006000600061010061010043030691506101008406905081816101004303010393508350808211156109f2576101008401935083505b8392506109fa565b505091905056"  # noqa
    ABI = '[{"constant":true,"inputs":[{"name":"lotteryHash","type":"bytes32"}],"name":"getRandomValue","outputs":[{"name":"","type":"uint32"}],"type":"function"},{"constant":true,"inputs":[],"name":"maturity","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"getOwnerDeposit","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"lotteryHash","type":"bytes32"}],"name":"init","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"lotteryHash","type":"bytes32"}],"name":"randomize","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"payout","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"lotteryHash","type":"bytes32"}],"name":"getValue","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"lotteryHash","type":"bytes32"}],"name":"getMaturity","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"ownerDeposit","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"lotteryHash","type":"bytes32"},{"name":"uid","type":"uint256"},{"name":"winner","type":"address"},{"name":"rangeStart","type":"uint32"},{"name":"rangeLength","type":"uint32"},{"name":"values","type":"bytes32[]"}],"name":"check","outputs":[],"type":"function"},{"inputs":[],"type":"constructor"}]'  # noqa
